$(() => {
    let form,
        formMessages = $('#form-messages'),
        formSuccess = false;

    removeit();

    // Form event listener
    $(form).on('submit', (e) => {
        e.preventDefault();

        // Serialize form data.
        let formData = $(form).serialize();

        // Submit form via AJAX
        $.ajax({
            type: 'POST',
            url: $(form).attr('action'),
            data: formData
        })

            // On successful request
            .done((response) => {
                // Form message has the success class
                $(formMessages)
                    .removeClass('error')
                    .addClass('success')

                    // Set message text
                    .text(response);

                // Empty the form
                $('#fname', '#lname', '#company', '#email').val('');

                console.log(response);

            })
            .fail((data) => {

                // Form message has the error class
                $(formMessages)
                    .removeClass('success')
                    .addClass('error');

                // Set message text
                data.responseText !== '' ? $(formMessages).text(data.responseText) : $(formMessages).text('Oops! An error occured and your message could not be sent.');
            });
    });

    $("button.form__submit").on('click', () => {
        let formDataFilled = $('#fname').val().length > 0 && $('#lname').val().length > 0 && $('#company').val().length > 0 && $('#email').val().length > 0 && $('#gdpr').is(":checked");
        console.log("this: ", $(this));
        console.log('formDataFilled: ' + formDataFilled)
        if (formDataFilled == true) {
            formSuccess = true;
            setTimeout(() => {
                if (formSuccess === true) {
                    console.log('Hooray!');
                }
            }, 1500);
        }
    });

});

// If viewport is 820px and below, remove desktop .App__main
// Simple workaround for bug of Mobile version form 
function removeit() {
    if ($(window).width() < 820) {
        $('body main.desktop').remove();
        form = $('.mobile__form');
    } else {
        $('body main.mobile').remove();
        form = $('.desktop__form')
    }
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XHJcbiAgICBsZXQgZm9ybSxcclxuICAgICAgICBmb3JtTWVzc2FnZXMgPSAkKCcjZm9ybS1tZXNzYWdlcycpLFxyXG4gICAgICAgIGZvcm1TdWNjZXNzID0gZmFsc2U7XHJcblxyXG4gICAgcmVtb3ZlaXQoKTtcclxuXHJcbiAgICAvLyBGb3JtIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAkKGZvcm0pLm9uKCdzdWJtaXQnLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgLy8gU2VyaWFsaXplIGZvcm0gZGF0YS5cclxuICAgICAgICBsZXQgZm9ybURhdGEgPSAkKGZvcm0pLnNlcmlhbGl6ZSgpO1xyXG5cclxuICAgICAgICAvLyBTdWJtaXQgZm9ybSB2aWEgQUpBWFxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgdXJsOiAkKGZvcm0pLmF0dHIoJ2FjdGlvbicpLFxyXG4gICAgICAgICAgICBkYXRhOiBmb3JtRGF0YVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAvLyBPbiBzdWNjZXNzZnVsIHJlcXVlc3RcclxuICAgICAgICAgICAgLmRvbmUoKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBGb3JtIG1lc3NhZ2UgaGFzIHRoZSBzdWNjZXNzIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAkKGZvcm1NZXNzYWdlcylcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2Vycm9yJylcclxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3N1Y2Nlc3MnKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgbWVzc2FnZSB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQocmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEVtcHR5IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkKCcjZm5hbWUnLCAnI2xuYW1lJywgJyNjb21wYW55JywgJyNlbWFpbCcpLnZhbCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZhaWwoKGRhdGEpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGb3JtIG1lc3NhZ2UgaGFzIHRoZSBlcnJvciBjbGFzc1xyXG4gICAgICAgICAgICAgICAgJChmb3JtTWVzc2FnZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzdWNjZXNzJylcclxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2Vycm9yJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2V0IG1lc3NhZ2UgdGV4dFxyXG4gICAgICAgICAgICAgICAgZGF0YS5yZXNwb25zZVRleHQgIT09ICcnID8gJChmb3JtTWVzc2FnZXMpLnRleHQoZGF0YS5yZXNwb25zZVRleHQpIDogJChmb3JtTWVzc2FnZXMpLnRleHQoJ09vcHMhIEFuIGVycm9yIG9jY3VyZWQgYW5kIHlvdXIgbWVzc2FnZSBjb3VsZCBub3QgYmUgc2VudC4nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiYnV0dG9uLmZvcm1fX3N1Ym1pdFwiKS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGZvcm1EYXRhRmlsbGVkID0gJCgnI2ZuYW1lJykudmFsKCkubGVuZ3RoID4gMCAmJiAkKCcjbG5hbWUnKS52YWwoKS5sZW5ndGggPiAwICYmICQoJyNjb21wYW55JykudmFsKCkubGVuZ3RoID4gMCAmJiAkKCcjZW1haWwnKS52YWwoKS5sZW5ndGggPiAwICYmICQoJyNnZHByJykuaXMoXCI6Y2hlY2tlZFwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInRoaXM6IFwiLCAkKHRoaXMpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnZm9ybURhdGFGaWxsZWQ6ICcgKyBmb3JtRGF0YUZpbGxlZClcclxuICAgICAgICBpZiAoZm9ybURhdGFGaWxsZWQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBmb3JtU3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZvcm1TdWNjZXNzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0hvb3JheSEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59KTtcclxuXHJcbi8vIElmIHZpZXdwb3J0IGlzIDgyMHB4IGFuZCBiZWxvdywgcmVtb3ZlIGRlc2t0b3AgLkFwcF9fbWFpblxyXG4vLyBTaW1wbGUgd29ya2Fyb3VuZCBmb3IgYnVnIG9mIE1vYmlsZSB2ZXJzaW9uIGZvcm0gXHJcbmZ1bmN0aW9uIHJlbW92ZWl0KCkge1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgODIwKSB7XHJcbiAgICAgICAgJCgnYm9keSBtYWluLmRlc2t0b3AnKS5yZW1vdmUoKTtcclxuICAgICAgICBmb3JtID0gJCgnLm1vYmlsZV9fZm9ybScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKCdib2R5IG1haW4ubW9iaWxlJykucmVtb3ZlKCk7XHJcbiAgICAgICAgZm9ybSA9ICQoJy5kZXNrdG9wX19mb3JtJylcclxuICAgIH1cclxufSJdfQ==
